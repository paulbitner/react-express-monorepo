{"ast":null,"code":"import _slicedToArray from\"C:/Users/pbitn/Desktop/learning/React/reactjs-ecommerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import style from\"styles/ShoppingCart.module.css\";import ThreeColFlex from\"components/Layout/ThreeColFlex\";import CartIcon from\"components/CartIcon\";import Button from\"components/Button\";import{useAppSelector,useAppDispatch}from\"hooks\";import{selectCart,updateQuantity}from\"stores/cartSlice\";import{openCartModal,selectModal}from\"stores/cartModalSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ShoppingCart=function ShoppingCart(){var cart=useAppSelector(selectCart);var openCart=useAppSelector(selectModal);var dispatch=useAppDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openModal=_useState2[0],setOpenModal=_useState2[1];var toggleModal=function toggleModal(){setOpenModal(!openModal);};useEffect(function(){if(cart.length>=0)localStorage.setItem(\"cart\",JSON.stringify(cart));},[cart]);useEffect(function(){if(!openCart){setOpenModal(false);}if(openCart){setOpenModal(true);}},[openCart]);return/*#__PURE__*/_jsxs(\"div\",{className:style.shoppingCart,children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return dispatch(openCartModal('close'));},className:style.cartOverlay,style:{opacity:openModal?\"1\":\"0\",visibility:openModal?\"visible\":\"hidden\"}}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return dispatch(openCartModal('open'));},children:/*#__PURE__*/_jsx(CartIcon,{quantity:cart.length})}),/*#__PURE__*/_jsxs(\"div\",{className:style.cartContainer,style:{opacity:openModal?\"1\":\"0\",visibility:openModal?\"visible\":\"hidden\"},children:[/*#__PURE__*/_jsxs(ThreeColFlex,{children:[/*#__PURE__*/_jsx(\"div\",{className:style.cartContainerCart,children:/*#__PURE__*/_jsx(CartIcon,{quantity:cart.length})}),/*#__PURE__*/_jsx(\"div\",{className:style.cartContainerHeading,children:\"Shopping Bag\"}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return dispatch(openCartModal('close'));},className:style.cartContainerClose,children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"29\",height:\"36\",viewBox:\"0 0 29 36\",children:/*#__PURE__*/_jsxs(\"g\",{fill:\"#000\",fillRule:\"evenodd\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M4.954 7L25.46 27.506l-1.414 1.414L3.54 8.414z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M3.54 27.506L24.046 7l1.414 1.414L4.954 28.92z\"})]})})})]}),/*#__PURE__*/_jsx(\"hr\",{}),cart.map(function(variant,index){return/*#__PURE__*/_jsxs(\"div\",{className:style.cartVariant,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:style.cartVariant,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:variant.variantImage,alt:variant.variantName})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{children:variant.variantName}),/*#__PURE__*/_jsxs(\"span\",{className:style.price,children:[\"$\",variant.quantity?Number(variant.variantPrice)*variant.quantity:0]})]})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:style.cartLineItemQuantityContainer,children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:function onClick(){return dispatch(updateQuantity({variantID:variant.variantID,action:\"decrement\"}));},children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{\"rv-text\":\"item.quantity\",children:variant.quantity}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:function onClick(){return dispatch(updateQuantity({variantID:variant.variantID,action:\"increment\"}));},children:\"+\"})]})})]},index);}),/*#__PURE__*/_jsxs(\"div\",{className:style.cartPricingContainer,children:[/*#__PURE__*/_jsx(\"div\",{children:\"Subtotal\"}),/*#__PURE__*/_jsx(\"div\",{children:\"$100.00\"})]}),/*#__PURE__*/_jsx(Button,{value:\"Checkout\",backgroundColor:\"#000\",textColor:\"#fff\",border:\"none\"})]})]});};export default ShoppingCart;","map":{"version":3,"names":["React","useState","useEffect","style","ThreeColFlex","CartIcon","Button","useAppSelector","useAppDispatch","selectCart","updateQuantity","openCartModal","selectModal","ShoppingCart","cart","openCart","dispatch","openModal","setOpenModal","toggleModal","length","localStorage","setItem","JSON","stringify","shoppingCart","cartOverlay","opacity","visibility","cartContainer","cartContainerCart","cartContainerHeading","cartContainerClose","map","variant","index","cartVariant","variantImage","variantName","price","quantity","Number","variantPrice","cartLineItemQuantityContainer","variantID","action","cartPricingContainer"],"sources":["C:/Users/pbitn/Desktop/learning/React/reactjs-ecommerce/src/features/cart/ShoppingCart.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport style from \"styles/ShoppingCart.module.css\";\r\nimport ThreeColFlex from \"components/Layout/ThreeColFlex\";\r\nimport CartIcon from \"components/CartIcon\";\r\nimport TwoColFlex from \"components/Layout/TwoColFlex\";\r\nimport Button from \"components/Button\";\r\nimport { useAppSelector, useAppDispatch } from \"hooks\";\r\nimport { addProductToCart, selectCart, updateQuantity } from \"stores/cartSlice\";\r\nimport { Variant } from \"features/SingleProduct/types\";\r\nimport { openCartModal, selectModal } from \"stores/cartModalSlice\";\r\n\r\nconst ShoppingCart = () => {\r\n  const cart = useAppSelector(selectCart);\r\n  const openCart = useAppSelector(selectModal);\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const [openModal, setOpenModal] = useState(false);\r\n\r\n  const toggleModal = () => {\r\n    setOpenModal(!openModal);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (cart.length >= 0) localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }, [cart]);\r\n\r\n  useEffect(() => {\r\n    \r\n    if(!openCart){\r\n      setOpenModal(false)\r\n    }\r\n\r\n    if(openCart){\r\n      setOpenModal(true);\r\n    }\r\n  }, [openCart]);\r\n\r\n  return (\r\n    <div className={style.shoppingCart}>\r\n      <div\r\n        onClick={() => dispatch(openCartModal('close'))}\r\n        className={style.cartOverlay}\r\n        style={{\r\n          opacity: openModal ? \"1\" : \"0\",\r\n          visibility: openModal ? \"visible\" : \"hidden\",\r\n        }}\r\n      ></div>\r\n      <div onClick={() => dispatch(openCartModal('open'))}>\r\n        <CartIcon quantity={cart.length} />\r\n      </div>\r\n      <div\r\n        className={style.cartContainer}\r\n        style={{\r\n          opacity: openModal ? \"1\" : \"0\",\r\n          visibility: openModal ? \"visible\" : \"hidden\",\r\n        }}\r\n      >\r\n        <ThreeColFlex>\r\n          <div className={style.cartContainerCart}>\r\n            <CartIcon quantity={cart.length} />\r\n          </div>\r\n          <div className={style.cartContainerHeading}>Shopping Bag</div>\r\n          <div onClick={() => dispatch(openCartModal('close'))} className={style.cartContainerClose}>\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"29\"\r\n              height=\"36\"\r\n              viewBox=\"0 0 29 36\"\r\n            >\r\n              <g fill=\"#000\" fillRule=\"evenodd\">\r\n                <path d=\"M4.954 7L25.46 27.506l-1.414 1.414L3.54 8.414z\"></path>\r\n                <path d=\"M3.54 27.506L24.046 7l1.414 1.414L4.954 28.92z\"></path>\r\n              </g>\r\n            </svg>\r\n          </div>\r\n        </ThreeColFlex>\r\n        <hr />\r\n\r\n        {cart.map((variant: Variant, index: number) => (\r\n          <div key={index} className={style.cartVariant}>\r\n            <div>\r\n              <div className={style.cartVariant}>\r\n                <div>\r\n                  <img src={variant.variantImage} alt={variant.variantName} />\r\n                </div>\r\n                <div>\r\n                  <h6>{variant.variantName}</h6>\r\n                  <span className={style.price}>\r\n                    $\r\n                    {variant.quantity\r\n                      ? Number(variant.variantPrice) * variant.quantity\r\n                      : 0}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <div className={style.cartLineItemQuantityContainer}>\r\n                <a\r\n                  href=\"#\"\r\n                  onClick={() =>\r\n                    dispatch(\r\n                      updateQuantity({\r\n                        variantID: variant.variantID,\r\n                        action: \"decrement\",\r\n                      })\r\n                    )\r\n                  }\r\n                >\r\n                  -\r\n                </a>\r\n                <span rv-text=\"item.quantity\">{variant.quantity}</span>\r\n                <a\r\n                  href=\"#\"\r\n                  onClick={() =>\r\n                    dispatch(\r\n                      updateQuantity({\r\n                        variantID: variant.variantID,\r\n                        action: \"increment\",\r\n                      })\r\n                    )\r\n                  }\r\n                >\r\n                  +\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n\r\n        <div className={style.cartPricingContainer}>\r\n          <div>Subtotal</div>\r\n          <div>$100.00</div>\r\n        </div>\r\n        <Button\r\n          value=\"Checkout\"\r\n          backgroundColor=\"#000\"\r\n          textColor=\"#fff\"\r\n          border=\"none\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShoppingCart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}